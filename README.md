# 打大A游戏

一个用TypeScript开发的经典纸牌游戏，支持单人对战AI模式，包含完整的游戏逻辑、智能AI和现代化的用户界面。

## 游戏介绍

打大A是一种流行的中国纸牌游戏，使用54张牌（包含大小王）。本版本支持**单人对战AI模式**，让您与两个智能AI玩家对战。

### 游戏特色

🤖 **智能AI对手**：三种难度等级（简单/中等/困难）  
🎯 **单人模式**：无需等待其他玩家，随时开始游戏  
⚡ **即时响应**：AI自动进行叫地主和出牌操作  
🎮 **完整体验**：包含所有经典打大A规则

### 游戏规则

1. **发牌阶段**：每个玩家分发17张牌，剩余3张作为地主牌
2. **叫地主阶段**：您和AI轮流选择是否叫地主，成为地主的玩家获得额外3张牌
3. **出牌阶段**：地主先出牌，其他玩家按顺序出牌
4. **获胜条件**：最先出完所有手牌的玩家获胜

### AI特性

- **智能决策**：AI会根据手牌强度智能决定是否叫地主
- **策略出牌**：AI能识别牌型并选择最优出牌策略
- **难度调节**：
  - **简单**：AI较为保守，适合新手练习
  - **中等**：平衡的游戏体验，适合大多数玩家
  - **困难**：AI更加激进和聪明，挑战性极强

### 支持的牌型

- 单张：任意一张牌
- 对子：两张相同点数的牌
- 三张：三张相同点数的牌
- 三带一：三张相同点数的牌带一张单牌
- 三带对：三张相同点数的牌带一对牌
- 顺子：连续的单牌（至少5张）
- 双顺：连续的对子（至少3对）
- 四带二：四张相同点数的牌带两张单牌
- 炸弹：四张相同点数的牌
- 王炸：大王+小王

## 技术特性

- **TypeScript**：完全使用TypeScript开发，提供类型安全
- **智能AI系统**：基于规则的AI决策引擎，支持多难度等级
- **模块化设计**：清晰的代码结构，AI逻辑独立可扩展
- **现代化UI**：响应式设计，适配移动设备
- **完整的游戏逻辑**：包含牌型识别、游戏状态管理等
- **事件驱动**：基于事件的游戏引擎，支持AI自动操作
- **异步处理**：AI思考延迟模拟真实玩家体验

## 项目结构

```
dda/
├── src/
│   ├── types/          # 类型定义
│   │   ├── card.ts     # 牌和牌型定义
│   │   └── player.ts   # 玩家相关类型
│   ├── logic/          # 游戏逻辑
│   │   ├── cardPattern.ts  # 牌型识别
│   │   └── gameLogic.ts    # 游戏核心逻辑
│   ├── engine/         # 游戏引擎
│   │   └── gameEngine.ts   # 游戏引擎主类
│   ├── ai/             # AI系统 🤖
│   │   └── aiPlayer.ts # AI玩家决策逻辑
│   ├── ui/             # 用户界面
│   │   └── gameUI.ts   # UI控制器
│   ├── utils/          # 工具函数
│   │   └── cardUtils.ts    # 牌相关工具
│   └── index.ts        # 主入口文件
├── dist/               # 编译输出目录
├── index.html          # 游戏页面
├── styles.css          # 样式文件
├── package.json        # 项目配置
├── tsconfig.json       # TypeScript配置
├── webpack.config.js   # Webpack配置
└── README.md          # 项目说明
```

## 安装和运行

### 1. 安装依赖

```bash
npm install
```

### 2. 构建项目

```bash
npm run build
```

### 3. 运行游戏

在浏览器中打开 `index.html` 文件即可开始游戏。

### 4. 开发模式

```bash
# 监听文件变化并自动重新构建
npm run watch

# 开发服务器（如果需要）
npm run dev
```

## 游戏操作

1. **设置游戏**：
   - 输入您的姓名
   - 自定义AI玩家名称（可选）
   - 选择AI难度等级
2. **开始游戏**：点击"开始游戏"按钮开始新的游戏
3. **叫地主**：
   - 轮到您时，选择"叫地主"或"不叫"
   - AI会自动做出决策（有思考延迟）
4. **出牌**：
   - 轮到您时，点击手牌选择要出的牌（选中的牌会高亮显示）
   - 点击"出牌"确认出牌，或点击"过牌"选择不出牌
   - AI回合时，手牌会变灰，AI会自动操作
5. **重新开始**：游戏过程中可以随时重新开始

### AI行为说明

- **思考时间**：AI会有1-3秒的思考延迟，模拟真实玩家
- **智能叫地主**：AI根据手牌强度决定是否叫地主
- **策略出牌**：AI会选择最优的牌型进行出牌
- **保守策略**：简单AI会更保守，困难AI会更激进

## 开发说明

### 主要类介绍

- **GameEngine**：游戏引擎，管理游戏状态和逻辑，支持AI自动操作
- **AIPlayer**：AI玩家类，实现智能决策和出牌策略
- **GameUI**：用户界面控制器，区分人类和AI玩家交互
- **Card**：牌的数据结构
- **Player**：玩家数据结构，支持人类和AI类型
- **CardPattern**：牌型识别和比较

### 扩展功能

项目设计具有良好的扩展性，可以轻松添加：

- ✅ **AI玩家** - 已实现，支持三种难度
- 🔄 **多人在线对战** - 可添加WebSocket支持
- 📊 **游戏统计和排行榜** - 胜负记录、AI对战统计
- 🎵 **音效和动画** - 出牌音效、胜利动画
- 📹 **游戏回放系统** - 记录和回放精彩对局
- 🎯 **更多AI策略** - 机器学习AI、个性化AI
- 🌐 **多语言支持** - 国际化界面

### 事件系统

游戏引擎提供了完整的事件系统：

```typescript
engine.addEventListener('gameStart', (gameData) => {
  console.log('游戏开始');
});

engine.addEventListener('stateChange', (gameData) => {
  console.log('游戏状态改变');
});

engine.addEventListener('gameEnd', (result) => {
  console.log('游戏结束', result);
});
```

## 浏览器支持

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request来改进游戏！

## 作者

使用Claude AI助手开发 